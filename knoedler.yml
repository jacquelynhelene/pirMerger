targets:

  all_knoedler:
    depends:
      - processed_data/knoedler_stocknumber_concordance.rda
      - processed_data/knoedler_with_ids.rda
      - processed_data/knoedler.rda
      - processed_data/knoedler_owners_lookup.rda
      - processed_data/knoedler_sellers.rda
      - processed_data/knoedler_buyers.rda
      - processed_data/knoedler_joint_owners.rda
      - processed_data/knoedler_dimensions.rda
      - processed_data/knoedler_purchase_buyers.rda
      - processed_data/knoedler_inventory_events.rda
      - processed_data/knoedler_sale_info.rda
      - processed_data/knoedler_sale_buyers.rda
      - processed_data/knoedler_sale_sellers.rda
      - processed_data/joined_knoedler.rda

  knoedler_stocknumber_concordance:
    command: produce_knoedler_stocknumber_concordance(raw_knoedler_stocknumber_concordance)
  processed_data/knoedler_stocknumber_concordance.rda:
    command: save(knoedler_stocknumber_concordance, file = target_name)

  knoedler_with_ids:
    command: produce_knoedler_ids(raw_knoedler, knoedler_stocknumber_concordance)
  processed_data/knoedler_with_ids.rda:
    command: save(knoedler_with_ids, file = target_name)

  knoedler:
    command: produce_knoedler(knoedler_with_ids)
  processed_data/knoedler.rda:
    command: save(knoedler, file = target_name)

  knoedler_artists:
    command: produce_knoedler_artists(knoedler_with_ids)
  processed_data/knoedler_artists.rda:
    command: save(knoedler_artists, file = target_name)

  knoedler_sellers_tmp:
    command: produce_knoedler_sellers_tmp(knoedler_with_ids)

  knoedler_buyers_tmp:
    command: produce_knoedler_buyers_tmp(knoedler_with_ids)

  knoedler_joint_owners_tmp:
    command: produce_knoedler_joint_owners_tmp(knoedler_with_ids)

  knoedler_owner_uids:
    command: produce_knoedler_owner_uids(buyers_df = knoedler_buyers_tmp, sellers_df = knoedler_sellers_tmp, joint_df = knoedler_joint_owners_tmp)
  knoedler_owners_lookup:
    command: produce_knoedler_owners_lookup(knoedler_owner_uids)
  processed_data/knoedler_owners_lookup.rda:
    command: save(knoedler_owners_lookup, file = target_name)

  knoedler_sellers:
    command: produce_knoedler_sellers(knoedler_sellers_tmp, knoedler_owner_uids)
  processed_data/knoedler_sellers.rda:
    command: save(knoedler_sellers, file = target_name)

  knoedler_buyers:
    command: produce_knoedler_buyers(knoedler_buyers_tmp, knoedler_owner_uids)
  processed_data/knoedler_buyers.rda:
    command: save(knoedler_buyers, file = target_name)

  knoedler_joint_owners:
    command: produce_knoedler_joint_owners(knoedler_joint_owners_tmp, knoedler_owner_uids)
  processed_data/knoedler_joint_owners.rda:
    command: save(knoedler_joint_owners, file = target_name)

  knoedler_dimensions:
    command: produce_knoedler_dimensions(knoedler_with_ids, raw_dimensions_aat, raw_units_aat)
  processed_data/knoedler_dimensions.rda:
    command: save(knoedler_dimensions, file = target_name)

  knoedler_purchase_info:
    command: produce_knoedler_purchase_info(knoedler_with_ids, currency_aat)
  processed_data/knoedler_purchase_info.rda:
    command: save(knoedler_purchase_info, file = target_name)

  knoedler_purchase_buyers:
    command: produce_knoedler_purchase_buyers(knoedler_with_ids, knoedler_joint_owners)
  processed_data/knoedler_purchase_buyers.rda:
    command: save(knoedler_purchase_buyers, file = target_name)

  knoedler_purchase_sellers:
    command: produce_knoedler_purchase_sellers(knoedler_with_ids, knoedler_sellers)
  processed_data/knoedler_purchase_sellers.rda:
    command: save(knoedler_purchase_sellers, file = target_name)

  knoedler_inventory_events:
    command: produce_knoedler_inventories(knoedler_with_ids)
  processed_data/knoedler_inventory_events.rda:
    command: save(knoedler_inventory_events, file = target_name)

  knoedler_sales:
    command: produce_knoedler_sales(knoedler_with_ids)

  knoedler_sale_info:
    command: produce_knoedler_sale_info(knoedler_with_ids, currency_aat)
  processed_data/knoedler_sale_info.rda:
    command: save(knoedler_sale_info, file = target_name)

  knoedler_sale_buyers:
    command: produce_knoedler_sale_buyers(knoedler_with_ids, knoedler_buyers)
  processed_data/knoedler_sale_buyers.rda:
    command: save(knoedler_sale_buyers, file = target_name)

  knoedler_sale_sellers:
    command: produce_knoedler_sale_sellers(knoedler_with_ids, knoedler_joint_owners)
  processed_data/knoedler_sale_sellers.rda:
    command: save(knoedler_sale_sellers, file = target_name)

  knoedler_materials_object_aat:
    command: produce_knoedler_materials_object_aat(raw_knoedler_materials_aat, knoedler_with_ids)

  knoedler_materials_support_aat:
    command: produce_knoedler_materials_support_aat(raw_knoedler_materials_aat, knoedler_with_ids)
  knoedler_materials_classified_as_aat:
    command: produce_knoedler_materials_classified_as_aat(raw_knoedler_materials_aat, knoedler_with_ids)
  knoedler_materials_technique_aat:
    command: produce_knoedler_materials_technique_aat(raw_knoedler_materials_aat, knoedler_with_ids)

  knoedler_subject_aat:
    command: produce_knoedler_subject_aat(raw_knoedler_subject_aat, knoedler_with_ids)
  knoedler_style_aat:
    command: produce_knoedler_style_aat(raw_knoedler_subject_aat, knoedler_with_ids)
  knoedler_subject_classified_as_aat:
    command: produce_knoedler_subject_classified_as_aat(raw_knoedler_subject_aat, knoedler_with_ids)
  knoedler_depicts_aat:
    command: produce_knoedler_depicts_aat(raw_knoedler_subject_aat, knoedler_with_ids)

  joined_knoedler:
    command: produce_joined_knoedler(knoedler, knoedler_artists, knoedler_buyers, knoedler_sellers, knoedler_joint_owners, knoedler_purchase_info, knoedler_purchase_buyers, knoedler_purchase_sellers, knoedler_inventory_events, knoedler_sale_info, knoedler_sale_buyers, knoedler_sale_sellers, knoedler_materials_classified_as_aat, knoedler_materials_object_aat, knoedler_materials_support_aat, knoedler_materials_technique_aat, knoedler_subject_aat, knoedler_style_aat, knoedler_subject_classified_as_aat, knoedler_depicts_aat, currency_aat, knoedler_dimensions, raw_knoedler_present_owner_ulan)
  processed_data/joined_knoedler.rda:
    command: save(joined_knoedler, file = target_name)
